<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Implenting a Limit Order Book in golang | Alexander’s homepage</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="Implenting a Limit Order Book in golang" />
<meta name="author" content="Alexander" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="What is a Limit Order Book?" />
<meta property="og:description" content="What is a Limit Order Book?" />
<link rel="canonical" href="http://localhost:4000/2025/10/24/limit-order-book.html" />
<meta property="og:url" content="http://localhost:4000/2025/10/24/limit-order-book.html" />
<meta property="og:site_name" content="Alexander’s homepage" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2025-10-24T00:00:00+02:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Implenting a Limit Order Book in golang" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Alexander"},"dateModified":"2025-10-24T00:00:00+02:00","datePublished":"2025-10-24T00:00:00+02:00","description":"What is a Limit Order Book?","headline":"Implenting a Limit Order Book in golang","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2025/10/24/limit-order-book.html"},"url":"http://localhost:4000/2025/10/24/limit-order-book.html"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/assets/css/style.css?v=09882f01195d333c85eec350dc0f5dfc579faf93">
    <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js"></script>
    <![endif]-->
    <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->

<!-- Setup Google Analytics -->



<!-- You can set your favicon here -->
<!-- link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" -->

<!-- end custom head snippets -->

  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1><a href="http://localhost:4000/">Alexander's homepage</a></h1>

        

        <p>A collection of my projects and thoughts!</p>

        <!-- <p class="view"><a href="https://github.com/Alexandoooor">View My GitHub Profile</a></p> -->

        <ul>
            <li><a href="http://localhost:4000/posts.html">Posts</a></li>
            <li><a href="http://localhost:4000/about-me.html">About me</a></li>
            <li><a href="https://github.com/Alexandoooor">View My GitHub Profile</a></li>
        </ul>

        

        
      </header>
      <section>

      <small>24 October 2025</small>
<h1>Implenting a Limit Order Book in golang</h1>

<p class="view">by Alexander</p>

<h2 id="what-is-a-limit-order-book">What is a Limit Order Book?</h2>

<h3 id="how-can-we-model-a-limit-order-book-in-code">How can we model a Limit Order Book in code?</h3>

<div class="language-golang highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">type</span> <span class="n">OrderBook</span> <span class="k">struct</span> <span class="p">{</span>
	<span class="n">levels</span>     <span class="k">map</span><span class="p">[</span><span class="n">Side</span><span class="p">]</span><span class="k">map</span><span class="p">[</span><span class="kt">int</span><span class="p">]</span><span class="o">*</span><span class="n">Level</span>
	<span class="n">orders</span>     <span class="k">map</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]</span><span class="o">*</span><span class="n">Order</span>
	<span class="n">lowestAsk</span>  <span class="o">*</span><span class="n">Level</span>
	<span class="n">highestBid</span> <span class="o">*</span><span class="n">Level</span>
	<span class="n">trades</span>     <span class="p">[]</span><span class="n">Trade</span>
	<span class="n">storage</span>    <span class="n">Storage</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-golang highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">type</span> <span class="n">OrderBook</span> <span class="k">struct</span> <span class="p">{</span>
	<span class="n">levels</span>     <span class="k">map</span><span class="p">[</span><span class="n">Side</span><span class="p">]</span><span class="k">map</span><span class="p">[</span><span class="kt">int</span><span class="p">]</span><span class="o">*</span><span class="n">Level</span>
	<span class="n">orders</span>     <span class="k">map</span><span class="p">[</span><span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span><span class="p">]</span><span class="o">*</span><span class="n">Order</span>
	<span class="n">lowestAsk</span>  <span class="o">*</span><span class="n">Level</span>
	<span class="n">highestBid</span> <span class="o">*</span><span class="n">Level</span>
	<span class="n">trades</span>     <span class="p">[]</span><span class="n">Trade</span>
	<span class="n">storage</span>    <span class="n">Storage</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-golang highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">type</span> <span class="n">Order</span> <span class="k">struct</span> <span class="p">{</span>
	<span class="n">Id</span>          <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span>
	<span class="n">Side</span>        <span class="n">Side</span>
	<span class="n">Size</span>        <span class="kt">int</span>
	<span class="n">Remaining</span>   <span class="kt">int</span>
	<span class="n">Price</span>       <span class="kt">int</span>
	<span class="n">Time</span>        <span class="n">time</span><span class="o">.</span><span class="n">Time</span>
	<span class="n">nextOrder</span>   <span class="o">*</span><span class="n">Order</span>
	<span class="n">prevOrder</span>   <span class="o">*</span><span class="n">Order</span>
	<span class="n">parentLevel</span> <span class="o">*</span><span class="n">Level</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-golang highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">type</span> <span class="n">Trade</span> <span class="k">struct</span> <span class="p">{</span>
	<span class="n">ID</span>       <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span>
	<span class="n">Price</span>    <span class="kt">int</span>
	<span class="n">Size</span>     <span class="kt">int</span>
	<span class="n">Time</span>     <span class="n">time</span><span class="o">.</span><span class="n">Time</span>
	<span class="n">BuyOrderID</span>  <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span>
	<span class="n">SellOrderID</span> <span class="n">uuid</span><span class="o">.</span><span class="n">UUID</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-golang highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">// golang code with syntax highlighting.</span>
<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="n">flag</span><span class="o">.</span><span class="n">Parse</span><span class="p">()</span>
	<span class="n">addr</span> <span class="o">:=</span> <span class="s">":"</span> <span class="o">+</span> <span class="n">strconv</span><span class="o">.</span><span class="n">Itoa</span><span class="p">(</span><span class="o">*</span><span class="n">port</span><span class="p">)</span>

	<span class="n">logger</span> <span class="o">:=</span> <span class="n">util</span><span class="o">.</span><span class="n">SetupLogging</span><span class="p">()</span>
	<span class="n">engine</span><span class="o">.</span><span class="n">Logger</span> <span class="o">=</span> <span class="n">logger</span>
	<span class="n">server</span><span class="o">.</span><span class="n">Logger</span> <span class="o">=</span> <span class="n">logger</span>


	<span class="n">db</span> <span class="o">:=</span> <span class="n">engine</span><span class="o">.</span><span class="n">InitPostgres</span><span class="p">()</span>
	<span class="k">defer</span> <span class="n">db</span><span class="o">.</span><span class="n">Close</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">Background</span><span class="p">())</span>

	<span class="n">storage</span> <span class="o">:=</span> <span class="n">engine</span><span class="o">.</span><span class="n">PostgresStorage</span><span class="p">{</span><span class="n">Database</span><span class="o">:</span> <span class="n">db</span><span class="p">}</span>
	<span class="n">ob</span> <span class="o">:=</span> <span class="n">engine</span><span class="o">.</span><span class="n">NewOrderBook</span><span class="p">()</span>
	<span class="n">ob</span><span class="o">.</span><span class="n">AddStorage</span><span class="p">(</span><span class="o">&amp;</span><span class="n">storage</span><span class="p">)</span>
	<span class="n">ob</span><span class="o">.</span><span class="n">RestoreOrderBook</span><span class="p">()</span>

	<span class="n">logger</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"LimitOrderBook running on http://%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">addr</span><span class="p">)</span>
	<span class="n">server</span> <span class="o">:=</span> <span class="n">server</span><span class="o">.</span><span class="n">NewServer</span><span class="p">(</span><span class="n">addr</span><span class="p">,</span> <span class="n">ob</span><span class="p">)</span>
	<span class="k">if</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">server</span><span class="o">.</span><span class="n">Serve</span><span class="p">();</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
		<span class="n">logger</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
	<span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="a-simple-web-ui">A simple Web-UI</h3>

<p><img src="/assets/img/LimitOrderBook.png" alt="Limit Order Book" /></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker stop local-postgres
docker rm local-postgres
docker run --name local-postgres -e POSTGRES_PASSWORD=SecurePassword -e POSTGRES_DB=local -p 5432:5432 -d postgres:latest
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>export POSTGRES_DB="local"
export POSTGRES_USER="postgres"
export POSTGRES_PASSWORD="SecurePassword"
export POSTGRES_HOST="localhost"
export POSTGRES_PORT="5432"
</code></pre></div></div>



  <small>tags: <em>golang</em></small>



      </section>
      <footer>
        
        <p><small>This project is maintained by <a href="https://github.com/Alexandoooor">Alexandoooor</a></small></p>
        
      </footer>
    </div>
    <script src="/assets/js/scale.fix.js"></script>
  </body>
</html>

---
layout: post
title:  "My Homelab"
author: Alexander
tags: homelab self-hosting
---

### Homelab
My Homelab is used, both as a lab, where I tinker and experiment,
but it is also used to self-host sevices that I use in my everyday life,
such as Home Assistant and Samba shares.

## Setup
### Networking
- Unifi Cloud Gateway Ultra
- Unifi Switch Ultra PoE
- Unifi U6

My network is segmented into VLANs with strict firewall rules. Devices on the IoT network are not allowed to access devices on other VLANs as an example.

I own a Cloudflare domain that I use internally.
All of the internal DNS records for my subdomains point to the IP of my Traefik instance, which then directs the request to the corresponding service.

```subdomain.maindomain.net -> DNS -> Traefik -> Service ```

The Cloud Gateway runs a WireGuard VPN server so that I can securely access services remotely.

![Diagram of my Homelab](/assets/img/homelab-diag.png)
*An overview of my homelab*

### Proxmox Server
Proxmox makes it easy to deploy containers and virtual machines for running services in my homelab.

I currently self-host
- Gitea
- Gitea-mirror (mirrors github respositories to my gitea instance)
- Traefik (for reverse proxy)
- Vaultwarden (Self-hosted bitwarden server)
- Home Assistant
- Ubuntu LXC with Samba shares

I run Proxmox on a Minisforum UN150P mini PC
- Intel N150
- 16GB RAM
- 512GB SSD
- 4TB External drive

### Deployment
The `Telmate/proxmox`-provider makes it easy to use Terraform to deploy the containers (LXC) and virtual machines for my proxmox homelab.
